"use strict";(self.webpackChunkwhite_wolf_character_sheet=self.webpackChunkwhite_wolf_character_sheet||[]).push([[346],{1346:(be,f,s)=>{s.r(f),s.d(f,{VampireDarkAgeModule:()=>Ce});var o=s(7232),u=s(9808),T=s(4100),e=s(5e3),h=(()=>{return(n=h||(h={}))[n.EMPTY=0]="EMPTY",n[n.BASHING=1]="BASHING",n[n.LETHAL=2]="LETHAL",n[n.AGGRAVATED=3]="AGGRAVATED",h;var n})();let p=(()=>{class n{constructor(){this.characterSheet=this.buildEmptyCharacterSheet()}getCharacterSheet(){return this.characterSheet}updateCharacterSheet(a){this.characterSheet=Object.assign({},a)}clearCharacterSheet(){this.characterSheet=this.buildEmptyCharacterSheet()}buildEmptyCharacterSheet(){return{playerData:{info:{name:"",player:"",chronicle:""},background:{nature:"",demeanor:"",clan:""},concept:{generation:12,concept:"",haven:""}},attributes:{physical:{strength:1,dexterity:1,stamina:1},social:{charisma:1,manipulation:1,appearance:1},mental:{perception:1,intelligence:1,wits:1}},abilities:{talents:{alertness:0,athletics:0,brawl:0,dodge:0,emptahy:0,expression:0,intimidation:0,leadership:0,legerdemain:0,subterfuge:0,customTalents:[]},skills:{animalKen:0,archery:0,commerce:0,crafts:0,etiquette:0,melee:0,performance:0,ride:0,stealth:0,survival:0,customSkills:[]},knowledges:{academics:0,hearthWisdom:0,investigation:0,law:0,linguistics:0,medicine:0,occult:0,politics:0,seneschal:0,theology:0,customKnowledges:[]}},advantages:{backgrounds:{allies:0,contacts:0,domain:0,generation:0,herd:0,influence:0,mentor:0,resources:0,retainers:0,status:0,customBackgrounds:[]},virtues:{conscienceConviction:1,selfControlInstint:1,courage:1},road:{name:"",level:0,aura:{type:"",value:""}},willpower:{permanent:5,temporal:3},bloodPool:{max:10,pool:8},experience:{total:0,current:0},health:{bruised:{penalty:0,value:h.EMPTY},hurt:{penalty:-1,value:h.EMPTY},injured:{penalty:-1,value:h.EMPTY},wounded:{penalty:-2,value:h.EMPTY},mauled:{penalty:-2,value:h.EMPTY},crippled:{penalty:-5,value:h.EMPTY},incapacitated:{penalty:0,value:h.EMPTY}},languages:[],merits:[],flaws:[]},disciplines:{abombwe:{level:0,inBlood:!1},animalism:{level:0,inBlood:!1},assamiteSorcery:{level:0,inBlood:!1},auspex:{level:0,inBlood:!1},celerity:{level:0,inBlood:!1},chimerstry:{level:0,inBlood:!1},daimoinon:{level:0,inBlood:!1},dementation:{level:0,inBlood:!1},dominate:{level:0,inBlood:!1},fortitude:{level:0,inBlood:!1},gargoyleFlight:{level:0,inBlood:!1},koldunicSorcery:{level:0,inBlood:!1},mortis:{level:0,inBlood:!1,paths:[],rituals:[]},obfuscate:{level:0,inBlood:!1},ogham:{level:0,inBlood:!1},potence:{level:0,inBlood:!1},presence:{level:0,inBlood:!1},protean:{level:0,inBlood:!1},quietus:{level:0,inBlood:!1},serpentis:{level:0,inBlood:!1},temporis:{level:0,inBlood:!1},thaumaturgy:{level:0,inBlood:!1,paths:[],rituals:[]},valerenHealer:{level:0,inBlood:!1},valerenWarrior:{level:0,inBlood:!1},vicissitude:{level:0,inBlood:!1}},equipment:{travelEquipment:[],weapons:{melee:[],ranged:[]},armor:{class:"",protection:0,movementPenalty:0,minStrength:0},shield:{class:"",protection:0}},isEditable:!0}}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var V=s(2965),k=s(2313),P=s(7474),J=s(4594),C=s(7423),d=s(1451),g=s(3874);function q(n,l){if(1&n&&(e.TgZ(0,"a",3),e.TgZ(1,"span",4),e.TgZ(2,"mat-icon"),e._uU(3,"language"),e.qZA(),e._uU(4),e.qZA(),e.qZA()),2&n){const a=e.oxw(),t=e.MAs(2);e.Q6J("matMenuTriggerFor",t),e.xp6(4),e.hij(" ",a.selectedLanguage.toUpperCase()," ")}}let E=(()=>{class n{constructor(a){this.translateService=a,this.selectedLanguage=""}ngOnInit(){this.selectedLanguage=localStorage.getItem("lang")||""}valueChange(a){this.selectedLanguage=a,localStorage.setItem("lang",a),document.documentElement.setAttribute("lang",a),this.translateService.use(a)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(o.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-language-select"]],decls:7,vars:1,consts:[["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["languageMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"language-button"]],template:function(a,t){1&a&&(e.YNc(0,q,5,2,"a",0),e.TgZ(1,"mat-menu",null,1),e.TgZ(3,"button",2),e.NdJ("click",function(){return t.valueChange("es")}),e._uU(4," ES "),e.qZA(),e.TgZ(5,"button",2),e.NdJ("click",function(){return t.valueChange("en")}),e._uU(6," EN "),e.qZA(),e.qZA()),2&a&&e.Q6J("ngIf",t.selectedLanguage)},directives:[u.O5,C.zs,d.p6,g.Hw,d.VK,d.OP],styles:[".language-button[_ngcontent-%COMP%]{display:flex;align-items:center}.language-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px;border-radius:0}.language-button[_ngcontent-%COMP%]:hover{color:#6495ed}"]}),n})();const w=function(n,l){return{unlocked:n,locked:l}};let F=(()=>{class n{constructor(a,t,i){this.sanitizer=a,this.styleManagerService=t,this.translate=i,this.isEditable=!0,this.onClearSheet=new e.vpe,this.onUploadSheet=new e.vpe,this.onToggleLockEdition=new e.vpe,this.darkMode=this.styleManagerService.isDark,this.downloadFile={},this.gameName=""}ngOnChanges(){this.buildDownloadResources()}clearSheet(){this.onClearSheet.emit()}uploadSheet(a){this.onUploadSheet.emit(a)}toggleLockEdition(){this.onToggleLockEdition.emit()}changeThemMode(){this.styleManagerService.toggleDarkTheme(),this.darkMode=!this.darkMode}buildDownloadResources(){var a=JSON.stringify(this.characterSheet);this.downloadFile.uri=this.buildDownloadUri(a),this.downloadFile.name=this.buildFileName()}buildDownloadUri(a){return this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(a))}buildFileName(){return this.gameName+"_"+this.formatDateString((new Date).toLocaleString()).concat(".json")}formatDateString(a){return a.replace("/","_").replace("/","_").replace(", ","T")}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(k.H7),e.Y36(P.T),e.Y36(o.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-header"]],inputs:{characterSheet:"characterSheet",gameName:"gameName",isEditable:"isEditable"},outputs:{onClearSheet:"onClearSheet",onUploadSheet:"onUploadSheet",onToggleLockEdition:"onToggleLockEdition"},features:[e.TTD],decls:53,vars:26,consts:[["mat-icon-button","",1,"menu-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"reset-sheet"],[1,"upload-sheet"],["hidden","","type","file","accept",".json",3,"change"],["fileInput",""],["mat-menu-item","",3,"href","download"],[1,"save-sheet"],[1,"sheet-title"],[1,"sheet-reduced-title"],["mat-icon-button","",3,"click"],[3,"ngClass"],[1,"title-spacer"],[1,"header-buttons"],["mat-icon-button","",3,"href","download"]],template:function(a,t){if(1&a){const i=e.EpF();e.TgZ(0,"header"),e.TgZ(1,"mat-toolbar"),e.TgZ(2,"button",0),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA(),e.qZA(),e.TgZ(5,"mat-menu",null,1),e.TgZ(7,"button",2),e.NdJ("click",function(){return t.clearSheet()}),e.TgZ(8,"mat-icon",3),e._uU(9,"restore_page_outlined"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA(),e.TgZ(13,"button",2),e.NdJ("click",function(){return e.CHM(i),e.MAs(20).click()}),e.TgZ(14,"mat-icon",4),e._uU(15,"upload_file"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",5,6),e.NdJ("change",function(c){return t.uploadSheet(c)}),e.qZA(),e.qZA(),e.TgZ(21,"a",7),e.TgZ(22,"mat-icon",8),e._uU(23,"save_outlined"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"span",9),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",11),e.NdJ("click",function(){return t.toggleLockEdition()}),e.TgZ(34,"mat-icon",12),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"span",13),e._UZ(37,"arm-language-select"),e.qZA(),e.TgZ(38,"div",14),e.TgZ(39,"button",11),e.NdJ("click",function(){return t.clearSheet()}),e.TgZ(40,"mat-icon",3),e._uU(41,"restore_page_outlined"),e.qZA(),e.qZA(),e.TgZ(42,"input",5,6),e.NdJ("change",function(c){return t.uploadSheet(c)}),e.qZA(),e.TgZ(44,"button",11),e.NdJ("click",function(){return e.CHM(i),e.MAs(20).click()}),e.TgZ(45,"mat-icon",4),e._uU(46,"upload_file"),e.qZA(),e.qZA(),e.TgZ(47,"a",15),e.TgZ(48,"mat-icon",8),e._uU(49,"save_outlined"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(50,"button",11),e.NdJ("click",function(){return t.changeThemMode()}),e.TgZ(51,"mat-icon"),e._uU(52),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.MAs(6);e.xp6(2),e.Q6J("matMenuTriggerFor",i),e.xp6(9),e.Oqu(e.lcZ(12,13,"menu-buttons.reset-sheet")),e.xp6(6),e.Oqu(e.lcZ(18,15,"menu-buttons.upload-sheet")),e.xp6(4),e.Q6J("href",t.downloadFile.uri,e.LSH)("download",t.downloadFile.name),e.xp6(4),e.Oqu(e.lcZ(26,17,"menu-buttons.download-sheet")),e.xp6(3),e.Oqu(e.lcZ(29,19,"vampire-eo-title")),e.xp6(3),e.Oqu(e.lcZ(32,21,"vampire-eo-reduced-title")),e.xp6(3),e.Q6J("ngClass",e.WLB(23,w,t.isEditable,!t.isEditable)),e.xp6(1),e.Oqu(t.isEditable?"lock_open":"lock"),e.xp6(12),e.Q6J("href",t.downloadFile.uri,e.LSH)("download",t.downloadFile.name),e.xp6(5),e.Oqu(t.darkMode?"dark_mode":"light_mode")}},directives:[J.Ye,C.lW,d.p6,g.Hw,d.VK,d.OP,u.mk,E,C.zs],pipes:[o.X$],styles:[".title-spacer[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;justify-content:center}"]}),n})();var b=s(3277),y=s(3075);function O(n,l){if(1&n&&(e.TgZ(0,"label"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,1,a.label),": ")}}const M=function(n){return{"read-only":n}};let Z=(()=>{class n{constructor(a){this.translate=a,this.label="",this.type="text",this.isReadOnly=!1,this.onValueChange=new e.vpe,this.value="",this.label=""}valueChange(a){this.onValueChange.emit(a)}hasLabel(){return(0,b.P)(this.label)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(o.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-input"]],inputs:{value:"value",label:"label",type:"type",isReadOnly:"isReadOnly"},outputs:{onValueChange:"onValueChange"},decls:3,vars:7,consts:[[1,"text-input-container"],[4,"ngIf"],[3,"type","ngClass","ngModel","readonly","ngModelChange"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.YNc(1,O,3,3,"label",1),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(r){return t.value=r})("ngModelChange",function(r){return t.valueChange(r)}),e.qZA(),e.qZA()),2&a&&(e.xp6(1),e.Q6J("ngIf",t.hasLabel()),e.xp6(1),e.Q6J("type",t.type)("ngClass",e.VKq(5,M,t.isReadOnly))("ngModel",t.value)("readonly",t.isReadOnly))},directives:[u.O5,y.Fj,u.mk,y.JJ,y.On],pipes:[o.X$],styles:[".text-input-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.text-input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:8px}.text-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid black;border-top:0px;border-left:0px;border-right:0px}"]}),n})(),Q=(()=>{class n{constructor(a){this.characterSheetStoreService=a,this.backgroundPath="playerData.background",this.infoPath="playerData.info",this.conceptPath="playerData.concept",this.characterSheet=this.characterSheetStoreService.getCharacterSheet()}updateBackgroundProperty(a,t){const i=[this.backgroundPath,t].join(".");this.updateValueFromProperty(a,i)}updateConceptProperty(a,t){const i=[this.conceptPath,t].join(".");this.updateValueFromProperty(a,i)}updateInfoProperty(a,t){const i=[this.infoPath,t].join(".");this.updateValueFromProperty(a,i)}updateValueFromProperty(a,t){const i=t.split(".");this.characterSheet[i[0]][i[1]][i[2]]=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-player-data"]],inputs:{characterSheet:"characterSheet"},decls:13,vars:28,consts:[[1,"player-data"],[1,"character-info"],[3,"label","value","isReadOnly","onValueChange"],[1,"character-background"],[1,"character-concept"],[3,"label","type","value","isReadOnly","onValueChange"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateInfoProperty(r,"name")}),e.qZA(),e.TgZ(3,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateInfoProperty(r,"player")}),e.qZA(),e.TgZ(4,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateInfoProperty(r,"chronicle")}),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateBackgroundProperty(r,"nature")}),e.qZA(),e.TgZ(7,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateBackgroundProperty(r,"demeanor")}),e.qZA(),e.TgZ(8,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateBackgroundProperty(r,"clan")}),e.qZA(),e.qZA(),e.TgZ(9,"div",4),e.TgZ(10,"arm-input",5),e.NdJ("onValueChange",function(r){return t.updateConceptProperty(r,"generation")}),e.qZA(),e.TgZ(11,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateConceptProperty(r,"concept")}),e.qZA(),e.TgZ(12,"arm-input",2),e.NdJ("onValueChange",function(r){return t.updateConceptProperty(r,"haven")}),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Q6J("label","sheet.player-data.info.name")("value",t.characterSheet.playerData.info.name)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.info.player")("value",t.characterSheet.playerData.info.player)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.info.chronicle")("value",t.characterSheet.playerData.info.chronicle)("isReadOnly",!t.characterSheet.isEditable),e.xp6(2),e.Q6J("label","sheet.player-data.background.nature")("value",t.characterSheet.playerData.background.nature)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.background.demeanor")("value",t.characterSheet.playerData.background.demeanor)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.background.clan")("value",t.characterSheet.playerData.background.clan)("isReadOnly",!t.characterSheet.isEditable),e.xp6(2),e.Q6J("label","sheet.player-data.concept.generation")("type","number")("value",t.characterSheet.playerData.concept.generation)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.concept.concept")("value",t.characterSheet.playerData.concept.concept)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("label","sheet.player-data.concept.haven")("value",t.characterSheet.playerData.concept.haven)("isReadOnly",!t.characterSheet.isEditable))},directives:[Z],styles:[""]}),n})();function N(n,l){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,a.label)," ")}}function L(n,l){1&n&&e._UZ(0,"div",7)}const B=function(n,l,a){return{filled:n,temporal:l,expand:a}};function U(n,l){if(1&n){const a=e.EpF();e.ynx(0),e.TgZ(1,"div",8),e.NdJ("click",function(){const r=e.CHM(a).index;return e.oxw().fillCircle(r)}),e.qZA(),e.BQk()}if(2&n){const a=l.index,t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.kEZ(1,B,a+1<=t.totalValue,a+1>t.value,!t.hasLabel()))}}function D(n,l){if(1&n){const a=e.EpF();e.TgZ(0,"mat-icon",9),e.NdJ("click",function(){return e.CHM(a),e.oxw().deleteProperty()}),e._uU(1," highlight_off "),e.qZA()}}const x=function(n){return{"no-label":n}};let m=(()=>{class n{constructor(){this.value=0,this.temporaryValue=0,this.minValue=0,this.isPermanent=!0,this.isEditable=!0,this.onValueChange=new e.vpe,this.onTemporaryValueChange=new e.vpe,this.onDelete=new e.vpe,this.circleAmount=5,this.label="",this.inputValue=0,this.circleArray=[1,2,3,4,5]}ngOnInit(){this.totalValue=this.value+this.temporaryValue,this.circleArray=Array.from(Array(this.circleAmount),(a,t)=>t)}ngOnChanges(){this.totalValue=this.value+this.temporaryValue}trackByFn(a,t){return t}hasLabel(){return(0,b.P)(this.label)}deleteProperty(){this.onDelete.emit()}fillCircle(a){this.isEditable?this.calculateValue(a):this.calculateTemporaryValue(a)}calculateValue(a){this.isSettingToLevelOne(a)?this.setLevelToOne():this.isRemovingAllLevels(a)?this.removeAllLevels():this.isRemovingCurrentLevel(a)?this.removeCurrentLevel():this.updateLevel(a)}isSettingToLevelOne(a){return 0===a&&this.value>1}isRemovingAllLevels(a){return 0===a&&1===this.value}isRemovingCurrentLevel(a){return this.value===a+1}setLevelToOne(){this.value=1,this.updateTotalvalue(),this.updateValue()}removeAllLevels(){this.value=this.value<=this.minValue?this.minValue:0,this.updateTotalvalue(),this.updateValue()}removeCurrentLevel(){this.value=this.value-1,this.updateTotalvalue(),this.updateValue()}updateLevel(a){const t=a+1+this.temporaryValue;t>this.circleAmount&&(this.temporaryValue=this.temporaryValue-(t-this.circleAmount),this.updateTemporaryValue()),this.value=a+1,this.updateTotalvalue(),this.updateValue()}calculateTemporaryValue(a){this.isSettingTemporaryValue(a)?this.setTemporaryValue(a):(this.temporaryValue=0,this.updateTotalvalue(),this.updateTemporaryValue())}isSettingTemporaryValue(a){return a+1>this.value}isRemovingCurentTemporaryLevel(a){return a+1===this.value+this.temporaryValue}setTemporaryValue(a){this.temporaryValue=this.isRemovingCurentTemporaryLevel(a)?this.temporaryValue-1:a+1-this.value,this.updateTotalvalue(),this.updateTemporaryValue()}updateTotalvalue(){this.totalValue=this.value+this.temporaryValue}updateValue(){this.onValueChange.emit(this.value)}updateTemporaryValue(){this.onTemporaryValueChange.emit(this.temporaryValue)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-circle-input"]],inputs:{circleAmount:"circleAmount",label:"label",value:"value",temporaryValue:"temporaryValue",minValue:"minValue",isPermanent:"isPermanent",isEditable:"isEditable"},outputs:{onValueChange:"onValueChange",onTemporaryValueChange:"onTemporaryValueChange",onDelete:"onDelete"},features:[e.TTD],decls:6,vars:8,consts:[[1,"circle-input-container",3,"ngClass"],["class","circle-input-label",4,"ngIf"],["class","line",4,"ngIf"],[1,"circle-input-values"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","delete-property-button","aria-hidden","false",3,"click",4,"ngIf"],[1,"circle-input-label"],[1,"line"],[1,"circle",3,"ngClass","click"],["aria-hidden","false",1,"delete-property-button",3,"click"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.YNc(1,N,3,3,"span",1),e.YNc(2,L,1,0,"div",2),e.TgZ(3,"div",3),e.YNc(4,U,2,5,"ng-container",4),e.qZA(),e.YNc(5,D,2,0,"mat-icon",5),e.qZA()),2&a&&(e.Q6J("ngClass",e.VKq(6,x,!t.hasLabel())),e.xp6(1),e.Q6J("ngIf",t.hasLabel()),e.xp6(1),e.Q6J("ngIf",t.hasLabel()),e.xp6(2),e.Q6J("ngForOf",t.circleArray)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",!t.isPermanent&&t.isEditable))},directives:[u.mk,u.O5,u.sg,g.Hw],pipes:[o.X$],styles:[".circle-input-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:24px}.circle-input-container.no-label[_ngcontent-%COMP%]{justify-content:space-around}.delete-property-button[_ngcontent-%COMP%]{margin-right:-29px;margin-left:5px;color:#c22626}.delete-property-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c22626;border-radius:100%;opacity:50;cursor:pointer}.circle[_ngcontent-%COMP%]{border:1px solid;width:10px;height:14px;border-radius:100%;cursor:pointer;margin-left:2px}.circle.expand[_ngcontent-%COMP%]{margin:.4rem}.circle-input-values[_ngcontent-%COMP%]{display:flex}.circle-input-label[_ngcontent-%COMP%]{white-space:nowrap;font-family:Property names font;font-size:1.3rem;letter-spacing:-1px;line-height:23px}.circle.filled.temporal[_ngcontent-%COMP%]{background-color:#ffe500}.line[_ngcontent-%COMP%]{border-bottom:1px solid;top:7px;position:relative;width:100%}"]}),n})(),I=(()=>{class n{constructor(a){this.characterSheetStoreService=a,this.socialPath="attributes.social",this.mentalPath="attributes.mental",this.physicalPath="attributes.physical",this.characterSheet=this.characterSheetStoreService.getCharacterSheet()}updateSocialValueProperty(a,t){const i=[this.socialPath,t].join(".");this.updateValueFromProperty(a,i)}updateMentalValueProperty(a,t){const i=[this.mentalPath,t].join(".");this.updateValueFromProperty(a,i)}updatePhysicalValueProperty(a,t){const i=[this.physicalPath,t].join(".");this.updateValueFromProperty(a,i)}updateValueFromProperty(a,t){const i=t.split(".");this.characterSheet[i[0]][i[1]][i[2]]=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-attributes"]],inputs:{characterSheet:"characterSheet"},decls:28,vars:57,consts:[[1,"attributes-section"],[1,"abilities-image-section"],["src","assets/images/vampire-dark-ages/sections/sheetBaseSection.png"],[1,"attributes-container"],[1,"physical"],[1,"sub-title"],[3,"circleAmount","label","value","isEditable","minValue","onValueChange"],[1,"social"],[1,"mental"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h1"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.TgZ(8,"h2",5),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updatePhysicalValueProperty(r,"strength")}),e.qZA(),e.TgZ(12,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updatePhysicalValueProperty(r,"dexterity")}),e.qZA(),e.TgZ(13,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updatePhysicalValueProperty(r,"stamina")}),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"h2",5),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateSocialValueProperty(r,"charisma")}),e.qZA(),e.TgZ(19,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateSocialValueProperty(r,"manipulation")}),e.qZA(),e.TgZ(20,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateSocialValueProperty(r,"appearance")}),e.qZA(),e.qZA(),e.TgZ(21,"div",8),e.TgZ(22,"h2",5),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateMentalValueProperty(r,"perception")}),e.qZA(),e.TgZ(26,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateMentalValueProperty(r,"intelligence")}),e.qZA(),e.TgZ(27,"arm-circle-input",6),e.NdJ("onValueChange",function(r){return t.updateMentalValueProperty(r,"wits")}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,49,"sheet.attributes.title")),e.xp6(5),e.Oqu(e.lcZ(10,51,"sheet.attributes.physical.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.attributes.physical.strength")("value",t.characterSheet.attributes.physical.strength)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.physical.dexterity")("value",t.characterSheet.attributes.physical.dexterity)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.physical.stamina")("value",t.characterSheet.attributes.physical.stamina)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(3),e.Oqu(e.lcZ(17,53,"sheet.attributes.social.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.attributes.social.charisma")("value",t.characterSheet.attributes.social.charisma)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.social.manipulation")("value",t.characterSheet.attributes.social.manipulation)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.social.appearance")("value",t.characterSheet.attributes.social.appearance)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(3),e.Oqu(e.lcZ(24,55,"sheet.attributes.mental.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.attributes.mental.perception")("value",t.characterSheet.attributes.mental.perception)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.mental.intelligence")("value",t.characterSheet.attributes.mental.intelligence)("isEditable",t.characterSheet.isEditable)("minValue",1),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.attributes.mental.wits")("value",t.characterSheet.attributes.mental.wits)("isEditable",t.characterSheet.isEditable)("minValue",1))},directives:[m],pipes:[o.X$],styles:[""]}),n})();var Y=s(8231),R=s(508);let _=(()=>{class n{constructor(a,t){this.dialogService=a,this.translate=t,this.customPropertyList=[],this.propertyType=""}addCustomProperty(){this.dialogService.openDialogWithInput(this.propertyType).afterClosed().subscribe(a=>{(0,b.P)(a)&&this.customPropertyList.push({name:a,level:0})})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(Y.x),e.Y36(o.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-add-custom-property-button"]],inputs:{customPropertyList:"customPropertyList",propertyType:"propertyType"},decls:6,vars:4,consts:[["matRipple","","mat-raised-button","",1,"add-property-container",3,"matRippleCentered","click"],["aria-hidden","false",1,"add-property-button"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return t.addCustomProperty()}),e.TgZ(1,"mat-icon",1),e._uU(2,"add_circle_outline"),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA()),2&a&&(e.Q6J("matRippleCentered",!0),e.xp6(4),e.Oqu(e.lcZ(5,2,"custom-property-button."+t.propertyType+".add")))},directives:[R.wG,g.Hw],pipes:[o.X$],styles:[""]}),n})();function X(n,l){if(1&n){const a=e.EpF();e.TgZ(0,"arm-circle-input",4),e.NdJ("onDelete",function(){const r=e.CHM(a).index;return e.oxw().deleteCustomTalents(r)})("onValueChange",function(i){const c=e.CHM(a).index;return e.oxw().updateValuerFromCustomProperty(i,c)}),e.qZA()}if(2&n){const a=l.$implicit,t=e.oxw();e.Q6J("circleAmount",8)("isPermanent",!1)("label",a.name)("value",a.level)("isEditable",t.characterSheet.isEditable)}}function H(n,l){if(1&n&&e._UZ(0,"arm-add-custom-property-button",5),2&n){const a=e.oxw();e.Q6J("propertyType",a.propertyType)("customPropertyList",a.characterSheet.abilities.talents.customTalents)}}let j=(()=>{class n{constructor(a){this.characterSheetStoreService=a,this.propertyType="talent",this.talentsMainPath="abilities.talents",this.characterSheet=this.characterSheetStoreService.getCharacterSheet()}deleteCustomTalents(a){this.characterSheet.abilities.talents.customTalents.splice(a,1)}trackByFn(a,t){return a}updateValueFromProperty(a,t){const i=[this.talentsMainPath,t].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]]=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}updateValuerFromCustomProperty(a,t){const i=[this.talentsMainPath,"customTalents"].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]][t].level=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-talents"]],inputs:{characterSheet:"characterSheet"},decls:16,vars:46,consts:[[1,"sub-title"],[3,"circleAmount","label","value","isEditable","onValueChange"],[3,"circleAmount","isPermanent","label","value","isEditable","onDelete","onValueChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"propertyType","customPropertyList",4,"ngIf"],[3,"circleAmount","isPermanent","label","value","isEditable","onDelete","onValueChange"],[3,"propertyType","customPropertyList"]],template:function(a,t){1&a&&(e.TgZ(0,"div"),e.TgZ(1,"h2",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"alertness")}),e.qZA(),e.TgZ(5,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"athletics")}),e.qZA(),e.TgZ(6,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"emptahy")}),e.qZA(),e.TgZ(7,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"dodge")}),e.qZA(),e.TgZ(8,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"expression")}),e.qZA(),e.TgZ(9,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"intimidation")}),e.qZA(),e.TgZ(10,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"leadership")}),e.qZA(),e.TgZ(11,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"brawl")}),e.qZA(),e.TgZ(12,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"legerdemain")}),e.qZA(),e.TgZ(13,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"subterfuge")}),e.qZA(),e.YNc(14,X,1,5,"arm-circle-input",2),e.YNc(15,H,1,2,"arm-add-custom-property-button",3),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,44,"sheet.abilities.talents.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.alertness")("value",t.characterSheet.abilities.talents.alertness)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.athletics")("value",t.characterSheet.abilities.talents.athletics)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.emptahy")("value",t.characterSheet.abilities.talents.emptahy)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.dodge")("value",t.characterSheet.abilities.talents.dodge)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.expression")("value",t.characterSheet.abilities.talents.expression)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.intimidation")("value",t.characterSheet.abilities.talents.intimidation)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.leadership")("value",t.characterSheet.abilities.talents.leadership)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.brawl")("value",t.characterSheet.abilities.talents.brawl)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.legerdemain")("value",t.characterSheet.abilities.talents.legerdemain)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.talents.subterfuge")("value",t.characterSheet.abilities.talents.subterfuge)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("ngForOf",t.characterSheet.abilities.talents.customTalents)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.characterSheet.isEditable))},directives:[m,u.sg,u.O5,_],pipes:[o.X$],styles:[""]}),n})();function K(n,l){if(1&n){const a=e.EpF();e.TgZ(0,"arm-circle-input",4),e.NdJ("onDelete",function(){const r=e.CHM(a).index;return e.oxw().deleteCustomSkill(r)})("onValueChange",function(i){const c=e.CHM(a).index;return e.oxw().updateValuerFromCustomProperty(i,c)}),e.qZA()}if(2&n){const a=l.$implicit,t=e.oxw();e.Q6J("circleAmount",8)("isPermanent",!1)("label",a.name)("value",a.level)("isEditable",t.characterSheet.isEditable)}}function $(n,l){if(1&n&&e._UZ(0,"arm-add-custom-property-button",5),2&n){const a=e.oxw();e.Q6J("propertyType",a.propertyType)("customPropertyList",a.characterSheet.abilities.skills.customSkills)}}let W=(()=>{class n{constructor(a){this.characterSheetStoreService=a,this.propertyType="skill",this.skillsMainPath="abilities.skills",this.characterSheet=this.characterSheetStoreService.getCharacterSheet()}deleteCustomSkill(a){this.characterSheet.abilities.skills.customSkills.splice(a,1)}trackByFn(a,t){return a}updateValueFromProperty(a,t){const i=[this.skillsMainPath,t].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]]=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}updateValuerFromCustomProperty(a,t){const i=[this.skillsMainPath,"customSkills"].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]][t].level=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-skills"]],inputs:{characterSheet:"characterSheet"},decls:16,vars:46,consts:[[1,"sub-title"],[3,"circleAmount","label","value","isEditable","onValueChange"],[3,"circleAmount","isPermanent","label","value","isEditable","onDelete","onValueChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"propertyType","customPropertyList",4,"ngIf"],[3,"circleAmount","isPermanent","label","value","isEditable","onDelete","onValueChange"],[3,"propertyType","customPropertyList"]],template:function(a,t){1&a&&(e.TgZ(0,"div"),e.TgZ(1,"h2",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"melee")}),e.qZA(),e.TgZ(5,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"commerce")}),e.qZA(),e.TgZ(6,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"ride")}),e.qZA(),e.TgZ(7,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"etiquette")}),e.qZA(),e.TgZ(8,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"performance")}),e.qZA(),e.TgZ(9,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"crafts")}),e.qZA(),e.TgZ(10,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"stealth")}),e.qZA(),e.TgZ(11,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"survival")}),e.qZA(),e.TgZ(12,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"animalKen")}),e.qZA(),e.TgZ(13,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"archery")}),e.qZA(),e.YNc(14,K,1,5,"arm-circle-input",2),e.YNc(15,$,1,2,"arm-add-custom-property-button",3),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,44,"sheet.abilities.skills.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.melee")("value",t.characterSheet.abilities.skills.melee)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.commerce")("value",t.characterSheet.abilities.skills.commerce)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.ride")("value",t.characterSheet.abilities.skills.ride)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.etiquette")("value",t.characterSheet.abilities.skills.etiquette)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.performance")("value",t.characterSheet.abilities.skills.performance)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.crafts")("value",t.characterSheet.abilities.skills.crafts)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.stealth")("value",t.characterSheet.abilities.skills.stealth)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.survival")("value",t.characterSheet.abilities.skills.survival)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.animalKen")("value",t.characterSheet.abilities.skills.animalKen)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.skills.archery")("value",t.characterSheet.abilities.skills.archery)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("ngForOf",t.characterSheet.abilities.skills.customSkills)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.characterSheet.isEditable))},directives:[m,u.sg,u.O5,_],pipes:[o.X$],styles:[""]}),n})(),v=(()=>{class n{constructor(a){this.characterSheetStoreService=a,this.characterSheet=this.characterSheetStoreService.getCharacterSheet()}updateValueFromProperty(a,t){const i=[this.propertiesMainPath,t].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]]=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["abstract-property-management"]],inputs:{characterSheet:"characterSheet"},decls:0,vars:0,template:function(a,t){},encapsulation:2}),n})(),A=(()=>{class n extends v{constructor(a){super(a)}trackByFn(a,t){return a}deleteCustomProperty(a){const t=[this.propertiesMainPath,this.customPropertyType].join(".").split(".");this.characterSheet[t[0]][t[1]][t[2]].splice(a,1)}updateValuerFromCustomProperty(a,t){const i=[this.propertiesMainPath,this.customPropertyType].join(".").split(".");this.characterSheet[i[0]][i[1]][i[2]][t].level=a,this.characterSheetStoreService.updateCharacterSheet(this.characterSheet)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["abstract-custom-property-management"]],features:[e.qOj],decls:0,vars:0,template:function(a,t){},encapsulation:2}),n})();function z(n,l){if(1&n){const a=e.EpF();e.TgZ(0,"arm-circle-input",4),e.NdJ("onDelete",function(){const r=e.CHM(a).index;return e.oxw().deleteCustomProperty(r)})("onValueChange",function(i){const c=e.CHM(a).index;return e.oxw().updateValuerFromCustomProperty(i,c)}),e.qZA()}if(2&n){const a=l.$implicit,t=e.oxw();e.Q6J("circleAmount",8)("label",a.name)("value",a.level)("isPermanent",!1)("isEditable",t.characterSheet.isEditable)}}function G(n,l){if(1&n&&e._UZ(0,"arm-add-custom-property-button",5),2&n){const a=e.oxw();e.Q6J("propertyType",a.propertyType)("customPropertyList",a.characterSheet.abilities.knowledges.customKnowledges)}}let ee=(()=>{class n extends A{constructor(a){super(a),this.propertyType="knowledge",this.customPropertyType="customKnowledges",this.propertiesMainPath="abilities.knowledges"}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-knowledges"]],features:[e.qOj],decls:16,vars:46,consts:[[1,"sub-title"],[3,"circleAmount","label","value","isEditable","onValueChange"],[3,"circleAmount","label","value","isPermanent","isEditable","onDelete","onValueChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"propertyType","customPropertyList",4,"ngIf"],[3,"circleAmount","label","value","isPermanent","isEditable","onDelete","onValueChange"],[3,"propertyType","customPropertyList"]],template:function(a,t){1&a&&(e.TgZ(0,"div"),e.TgZ(1,"h2",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"academics")}),e.qZA(),e.TgZ(5,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"investigation")}),e.qZA(),e.TgZ(6,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"law")}),e.qZA(),e.TgZ(7,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"linguistics")}),e.qZA(),e.TgZ(8,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"medicine")}),e.qZA(),e.TgZ(9,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"occult")}),e.qZA(),e.TgZ(10,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"politics")}),e.qZA(),e.TgZ(11,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"hearthWisdom")}),e.qZA(),e.TgZ(12,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"seneschal")}),e.qZA(),e.TgZ(13,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"theology")}),e.qZA(),e.YNc(14,z,1,5,"arm-circle-input",2),e.YNc(15,G,1,2,"arm-add-custom-property-button",3),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,44,"sheet.abilities.knowledges.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.academics")("value",t.characterSheet.abilities.knowledges.academics)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.investigation")("value",t.characterSheet.abilities.knowledges.investigation)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.law")("value",t.characterSheet.abilities.knowledges.law)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.linguistics")("value",t.characterSheet.abilities.knowledges.linguistics)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.medicine")("value",t.characterSheet.abilities.knowledges.medicine)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.occult")("value",t.characterSheet.abilities.knowledges.occult)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.politics")("value",t.characterSheet.abilities.knowledges.politics)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.hearthWisdom")("value",t.characterSheet.abilities.knowledges.hearthWisdom)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.seneschal")("value",t.characterSheet.abilities.knowledges.seneschal)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.abilities.knowledges.theology")("value",t.characterSheet.abilities.knowledges.theology)("isEditable",t.characterSheet.isEditable),e.xp6(1),e.Q6J("ngForOf",t.characterSheet.abilities.knowledges.customKnowledges)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.characterSheet.isEditable))},directives:[m,u.sg,u.O5,_],pipes:[o.X$],styles:[""]}),n})(),te=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-abilities"]],inputs:{characterSheet:"characterSheet"},decls:10,vars:6,consts:[[1,"abilities-section"],[1,"abilities-image-section"],["src","assets/images/vampire-dark-ages/sections/sheetBaseSection.png"],[1,"attributes-container"],[1,"talents",3,"characterSheet"],[1,"skills",3,"characterSheet"],[1,"knowledges",3,"characterSheet"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h1"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"arm-talents",4),e._UZ(8,"arm-skills",5),e._UZ(9,"arm-knowledges",6),e.qZA(),e.qZA()),2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,4,"sheet.abilities.title")),e.xp6(3),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet))},directives:[j,W,ee],pipes:[o.X$],styles:[""]}),n})();function ae(n,l){if(1&n){const a=e.EpF();e.TgZ(0,"arm-circle-input",4),e.NdJ("onDelete",function(){const r=e.CHM(a).index;return e.oxw().deleteCustomProperty(r)})("onValueChange",function(i){const c=e.CHM(a).index;return e.oxw().updateValuerFromCustomProperty(i,c)}),e.qZA()}if(2&n){const a=l.$implicit,t=e.oxw();e.Q6J("circleAmount",8)("label",a.name)("value",a.level)("isPermanent",!1)("isEditable",t.characterSheet.isEditable)}}function ne(n,l){if(1&n&&e._UZ(0,"arm-add-custom-property-button",5),2&n){const a=e.oxw();e.Q6J("propertyType",a.propertyType)("customPropertyList",a.characterSheet.advantages.backgrounds.customBackgrounds)}}let re=(()=>{class n extends A{constructor(a){super(a),this.propertyType="background",this.customPropertyType="customBackgrounds",this.propertiesMainPath="advantages.backgrounds"}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-backgrounds"]],features:[e.qOj],decls:16,vars:36,consts:[[1,"sub-category"],[3,"circleAmount","label","value","onValueChange"],[3,"circleAmount","label","value","isPermanent","isEditable","onDelete","onValueChange",4,"ngFor","ngForOf","ngForTrackBy"],[3,"propertyType","customPropertyList",4,"ngIf"],[3,"circleAmount","label","value","isPermanent","isEditable","onDelete","onValueChange"],[3,"propertyType","customPropertyList"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"allies")}),e.qZA(),e.TgZ(5,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"contacts")}),e.qZA(),e.TgZ(6,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"retainers")}),e.qZA(),e.TgZ(7,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"domain")}),e.qZA(),e.TgZ(8,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"generation")}),e.qZA(),e.TgZ(9,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"influence")}),e.qZA(),e.TgZ(10,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"mentor")}),e.qZA(),e.TgZ(11,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"status")}),e.qZA(),e.TgZ(12,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"herd")}),e.qZA(),e.TgZ(13,"arm-circle-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"resources")}),e.qZA(),e.YNc(14,ae,1,5,"arm-circle-input",2),e.YNc(15,ne,1,2,"arm-add-custom-property-button",3)),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,34,"sheet.advantages.backgrounds.title")),e.xp6(2),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.allies")("value",t.characterSheet.advantages.backgrounds.allies),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.contacts")("value",t.characterSheet.advantages.backgrounds.contacts),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.retainers")("value",t.characterSheet.advantages.backgrounds.retainers),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.domain")("value",t.characterSheet.advantages.backgrounds.domain),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.generation")("value",t.characterSheet.advantages.backgrounds.generation),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.influence")("value",t.characterSheet.advantages.backgrounds.influence),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.mentor")("value",t.characterSheet.advantages.backgrounds.mentor),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.status")("value",t.characterSheet.advantages.backgrounds.status),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.herd")("value",t.characterSheet.advantages.backgrounds.herd),e.xp6(1),e.Q6J("circleAmount",8)("label","sheet.advantages.backgrounds.resources")("value",t.characterSheet.advantages.backgrounds.resources),e.xp6(1),e.Q6J("ngForOf",t.characterSheet.advantages.backgrounds.customBackgrounds)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.characterSheet.isEditable))},directives:[m,u.sg,u.O5,_],pipes:[o.X$],styles:[""]}),n})(),ie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-experience"]],inputs:{characterSheet:"characterSheet"},decls:4,vars:3,consts:[[1,"sub-category"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"sheet.advantages.experience.title")))},pipes:[o.X$],styles:[""]}),n})(),le=(()=>{class n extends v{constructor(a){super(a),this.propertiesMainPath="advantages.road"}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-road"]],features:[e.qOj],decls:6,vars:7,consts:[[1,"sub-category"],[3,"value","isReadOnly","onValueChange"],[3,"circleAmount","value"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"arm-input",1),e.NdJ("onValueChange",function(r){return t.updateValueFromProperty(r,"name")}),e.qZA(),e._UZ(5,"arm-circle-input",2)),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"sheet.advantages.road.title")),e.xp6(2),e.Q6J("value",t.characterSheet.advantages.road.name)("isReadOnly",!t.characterSheet.isEditable),e.xp6(1),e.Q6J("circleAmount",10)("value",t.characterSheet.advantages.road.level))},directives:[Z,m],pipes:[o.X$],styles:[""]}),n})(),oe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-willpower"]],inputs:{characterSheet:"characterSheet"},decls:4,vars:3,consts:[[1,"sub-category"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"sheet.advantages.willpower.title")))},pipes:[o.X$],styles:[""]}),n})(),se=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-blood-pool"]],inputs:{characterSheet:"characterSheet"},decls:4,vars:3,consts:[[1,"sub-category"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"sheet.advantages.bloodPool.title")))},pipes:[o.X$],styles:[""]}),n})(),ce=(()=>{class n extends v{constructor(a){super(a),this.propertiesMainPath="advantages.virtues"}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-virtues"]],features:[e.qOj],decls:7,vars:12,consts:[[1,"sub-category"],[3,"circleAmount","label","value"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e._UZ(4,"arm-circle-input",1),e._UZ(5,"arm-circle-input",1),e._UZ(6,"arm-circle-input",1)),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,10,"sheet.advantages.virtues.title")),e.xp6(2),e.Q6J("circleAmount",5)("label","sheet.advantages.virtues.conscienceConviction")("value",t.characterSheet.advantages.virtues.conscienceConviction),e.xp6(1),e.Q6J("circleAmount",5)("label","sheet.advantages.virtues.selfControlInstint")("value",t.characterSheet.advantages.virtues.selfControlInstint),e.xp6(1),e.Q6J("circleAmount",5)("label","sheet.advantages.virtues.courage")("value",t.characterSheet.advantages.virtues.courage))},directives:[m],pipes:[o.X$],styles:[""]}),n})(),ue=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-health"]],inputs:{characterSheet:"characterSheet"},decls:4,vars:3,consts:[[1,"sub-category"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"sheet.advantages.health.title")))},pipes:[o.X$],styles:[""]}),n})(),pe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-weakness"]],inputs:{characterSheet:"characterSheet"},decls:4,vars:3,consts:[[1,"sub-category"]],template:function(a,t){1&a&&(e.TgZ(0,"h2",0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"sheet.advantages.weakness.title")))},pipes:[o.X$],styles:[""]}),n})(),he=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-advantages"]],inputs:{characterSheet:"characterSheet"},decls:17,vars:11,consts:[[1,"abilities-image-section"],["src","assets/images/vampire-dark-ages/sections/sheetBaseSection.png"],[1,"advantages-container"],[1,"backgrounds-experience"],[3,"characterSheet"],[1,"road-willpower-bloodpool"],[1,"virtues-health-weakness"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"h1"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e._UZ(7,"arm-backgrounds",4),e._UZ(8,"arm-experience",4),e.qZA(),e.TgZ(9,"div",5),e._UZ(10,"arm-road",4),e._UZ(11,"arm-willpower",4),e._UZ(12,"arm-blood-pool",4),e.qZA(),e.TgZ(13,"div",6),e._UZ(14,"arm-virtues",4),e._UZ(15,"arm-health",4),e._UZ(16,"arm-weakness",4),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,9,"sheet.advantages.title")),e.xp6(4),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet),e.xp6(2),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet),e.xp6(2),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet),e.xp6(1),e.Q6J("characterSheet",t.characterSheet))},directives:[re,ie,le,oe,se,ce,ue,pe],pipes:[o.X$],styles:[""]}),n})(),me=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-footer"]],decls:6,vars:0,consts:[[1,"content"],["href","https://github.com/arensis","target","_blank"],["svgIcon","github_icon"]],template:function(a,t){1&a&&(e.TgZ(0,"footer"),e.TgZ(1,"div",0),e.TgZ(2,"a",1),e._UZ(3,"mat-icon",2),e.TgZ(4,"span"),e._uU(5,"Alfonso Madrid"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[g.Hw],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;text-decoration:none}footer[_ngcontent-%COMP%]{width:100%;position:relative;bottom:0;left:0}footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:auto;padding:20px;display:table}footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;transition:all .3s ease}footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:8px}footer[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#eb2f06}@media (max-width: 560px){footer[_ngcontent-%COMP%]{position:relative}}"]}),n})();const de=[{path:"",component:(()=>{class n{constructor(a,t){this.characterSheetStoreService=a,this.fileService=t}clearSheet(){this.characterSheetStoreService.clearCharacterSheet()}uploadSheet(a){this.fileService.mapFileToSheetObject(a,t=>this.characterSheetStoreService.updateCharacterSheet(t))}getCharacterSheet(){return this.characterSheetStoreService.getCharacterSheet()}toggleLockEdition(){const a=this.getCharacterSheet(),t=Object.assign(Object.assign({},a),{isEditable:!a.isEditable});this.characterSheetStoreService.updateCharacterSheet(t)}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(p),e.Y36(V.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["arm-vampire-dark-age"]],decls:10,vars:7,consts:[[3,"characterSheet","gameName","isEditable","onClearSheet","onUploadSheet","onToggleLockEdition"],[1,"sheet-container"],[1,"logo"],["src","assets/images/vampire-dark-ages/logo/gameLogo.png"],[3,"characterSheet"]],template:function(a,t){1&a&&(e.TgZ(0,"arm-header",0),e.NdJ("onClearSheet",function(){return t.clearSheet()})("onUploadSheet",function(r){return t.uploadSheet(r)})("onToggleLockEdition",function(){return t.toggleLockEdition()}),e.qZA(),e.TgZ(1,"main"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"img",3),e.qZA(),e._UZ(5,"arm-player-data",4),e._UZ(6,"arm-attributes",4),e._UZ(7,"arm-abilities",4),e._UZ(8,"arm-advantages",4),e.qZA(),e.qZA(),e._UZ(9,"arm-footer")),2&a&&(e.Q6J("characterSheet",t.getCharacterSheet())("gameName","VAMPIRE_DARK_AGES")("isEditable",t.getCharacterSheet().isEditable),e.xp6(5),e.Q6J("characterSheet",t.getCharacterSheet()),e.xp6(1),e.Q6J("characterSheet",t.getCharacterSheet()),e.xp6(1),e.Q6J("characterSheet",t.getCharacterSheet()),e.xp6(1),e.Q6J("characterSheet",t.getCharacterSheet()))},directives:[F,Q,I,te,he,me],styles:[""]}),n})()}];let ge=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[T.Bz.forChild(de)],T.Bz]}),n})();var _e=s(9733);let Ce=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,ge,_e.m,o.aw]]}),n})()}}]);